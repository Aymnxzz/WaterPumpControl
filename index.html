<!DOCTYPE html>
<html>
<head>
    <title>Water Pump Control</title>
</head>
<body>
    <h1>Control the Water Pump</h1>
    <button onclick="controlPump(1)">Turn ON Pump</button>
    <button onclick="controlPump(0)">Turn OFF Pump</button>

    <script>
        function controlPump(state) {
            var request = new XMLHttpRequest();
            var channelID = '2716036'; // Replace with your channel ID
            var writeAPIKey = 'LYNYGZZIWLW0YBH8'; // Replace with your Write API Key
            var field4 = state; // 0 for OFF, 1 for ON

            var url = `https://api.thingspeak.com/update?api_key=${writeAPIKey}&field4=${field4}`;

            request.open("GET", url, true);
            request.send();
            request.onload = function () {
                if (request.status >= 200 && request.status < 300) {
                    console.log('Pump control command sent successfully!');
                } else {
                    console.error('Error sending pump control command:', request.statusText);
                }
            };
        }
    </script>
</body>
</html>
